{"version":3,"file":"SpecificQuiz-e3AUqMdz.js","sources":["../../src/Components/Quizzes/SpecificQuiz/SpecificQuiz.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport { getData } from \"../../../ApiUtils/ApiUtils\";\r\nimport SharedModal from \"../../../Shared/Modal/Modal\";\r\nimport Label from \"../../../Shared/Label/Label\";\r\nimport Loading from \"../../../Shared/Loading/Loading\";\r\nimport CodeModal from \"../CodeModal/CodeModal\";\r\nimport QuizModal from \"../QuizModal/QuizModal\";\r\nimport { normalizeQuizData } from \"../../../utils/quizDataNormalizer\";\r\nimport { RootState } from \"../../../types\";\r\n\r\nexport interface quiz {\r\n  _id: string;\r\n  title: string;\r\n  schedule: string;\r\n  duration: string;\r\n  questions_number: string;\r\n  score_per_question: string;\r\n  description: string;\r\n  type: string;\r\n}\r\n\r\nexport default function SpacificQuiz() {\r\n  const { quizId } = useParams();\r\n  const { headers } = useSelector((state: RootState) => state.userData);\r\n  const [quiz, setQuiz] = useState<quiz>();\r\n  \r\n  useEffect(() => {\r\n    getData({ \r\n      path: `quiz/${quizId}`, \r\n      headers, \r\n      setState: (data: unknown) => {\r\n        // Normalize the quiz data to handle field name mismatches\r\n        const normalizedQuiz = normalizeQuizData(data);\r\n        setQuiz(normalizedQuiz);\r\n      }\r\n    });\r\n  }, [headers, quizId]);\r\n\r\n  const [modalState, setModalState] = useState(\"close\");\r\n  const [code, setCode] = useState<string>(\"\");\r\n  const handleClose = () => {\r\n    setModalState(\"close\");\r\n  };\r\n  const openUpdateModal = () => {\r\n    setModalState(\"update\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {quiz ? (\r\n        <div className=\"quiz-name\">\r\n          <Link to=\"/dashboard/quizzes\" className=\"m-2 font-semibold\">\r\n            Quizzes <i className=\"fa-solid fa-angle-right text-secondry\"></i>\r\n            <i className=\"fa-solid fa-angle-right text-secondry\"></i>\r\n          </Link>\r\n          <span>{quiz?.title}</span>\r\n\r\n          <div className=\"grid lg:grid-cols-3 grid-cols-1\">\r\n            <div className=\"content my-4 mx-2\">\r\n              <div className=\"header border-2 p-3 rounded-xl\">\r\n                <h2 className=\"text-2xl font-bold\">{quiz?.title}</h2>\r\n                <div className=\"flex my-3\">\r\n                  <p>\r\n                    <i className=\"fa-solid fa-calendar-days mr-1\"></i>\r\n                    {quiz.schedule?.split(\"T\")[0]}\r\n                  </p>\r\n                  <p>\r\n                    <i className=\"fa-solid fa-clock mx-1\"></i>\r\n                    {quiz.schedule?.split(\"T\")[1].split(\".\")[0]}\r\n                  </p>\r\n                </div>\r\n                <Label word=\"Duration\" value={quiz?.duration} />\r\n                <Label\r\n                  word=\"Number of questions\"\r\n                  value={quiz?.questions_number}\r\n                />\r\n                <Label\r\n                  word=\"Score per question\"\r\n                  value={quiz?.score_per_question}\r\n                />\r\n                <Label\r\n                  word=\"Description\"\r\n                  class_Name=\"grid-cols-1\"\r\n                  textClassName=\"text-sm\"\r\n                  value={quiz?.description}\r\n                />\r\n                <Label word=\"Question bank used\" value={quiz?.type} />\r\n                <div className=\"flex items-center\">\r\n                  <input\r\n                    id=\"link-checkbox\"\r\n                    type=\"checkbox\"\r\n                    className=\"w-5 h-5 rounded accent-black\"\r\n                  />\r\n                  <label\r\n                    htmlFor=\"link-checkbox\"\r\n                    className=\"ms-2 text-sm font-medium text-gray-900\"\r\n                  >\r\n                    Randomize questions.\r\n                  </label>\r\n                </div>\r\n                <div className=\"text-end\">\r\n                  <button\r\n                    onClick={openUpdateModal}\r\n                    className=\"bg-zinc-900 hover:bg-zinc-700 text-white rounded-lg px-3 py-1 text-sm font-bold my-2\"\r\n                  >\r\n                    <i className=\"fa-solid fa-pen text-white mx-1\"></i>\r\n                    Edit\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"h-1/2 flex items-center justify-center w-full text-6xl\">\r\n          <Loading />\r\n        </div>\r\n      )}\r\n\r\n      <SharedModal\r\n        show={modalState === \"update\"}\r\n        title=\"Edit Quiz\"\r\n        description=\"Update the quiz details below\"\r\n        customIcon=\"fa-solid fa-file-circle-plus text-blue-600\"\r\n        onSave={() => {\r\n          () => {};\r\n        }}\r\n        onClose={handleClose}\r\n        body={\r\n          modalState == \"update\" ? (\r\n            <QuizModal\r\n              quiz={quiz}\r\n              setCode={setCode}\r\n              setModalState={setModalState}\r\n              handleClose={handleClose}\r\n            />\r\n          ) : (\r\n            \"\"\r\n          )\r\n        }\r\n      />\r\n      <SharedModal\r\n        show={modalState === \"quiz-code\"}\r\n        title=\"\"\r\n        onSave={() => {\r\n          // Save action\r\n        }}\r\n        omitHeader={true}\r\n        onClose={handleClose}\r\n        body={<CodeModal handleClose={handleClose} code={code} />}\r\n      />\r\n    </>\r\n  );\r\n}\r\n"],"names":["SpacificQuiz","quizId","useParams","headers","useSelector","state","userData","quiz","setQuiz","useState","useEffect","getData","path","setState","data","normalizedQuiz","normalizeQuizData","modalState","setModalState","code","setCode","handleClose","jsxRuntimeExports","jsxs","Fragment","children","className","Link","to","jsx","title","_a","schedule","split","_b","Label","word","value","duration","questions_number","score_per_question","class_Name","textClassName","description","type","id","htmlFor","onClick","Loading","SharedModal","show","customIcon","onSave","onClose","body","QuizModal","omitHeader","CodeModal"],"mappings":"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"}