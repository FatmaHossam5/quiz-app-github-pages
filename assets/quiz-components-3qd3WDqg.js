import{j as e,L as s,n as t}from"./auth-components-iWqtXpfe.js";import{B as r,a,c as l}from"./utils-vendor-sWoxFQZ6.js";import{g as i,r as n}from"./react-vendor-s_S1cGa8.js";import{a as d}from"./redux-vendor-cu8-w_sP.js";import{u as o}from"./form-vendor-87VoHYCJ.js";import{a as c,L as x}from"./router-vendor-gFps3Gup.js";var u=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var s=document.activeElement,t=[],r=0;r<e.rangeCount;r++)t.push(e.getRangeAt(r));switch(s.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":s.blur();break;default:s=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||t.forEach(function(s){e.addRange(s)}),s&&s.focus()}},m={"text/plain":"Text","text/html":"Url",default:"Text"};const h=i(function(e,s){var t,r,a,l,i,n=!1;s||(s={}),s.debug;try{if(r=u(),a=document.createRange(),l=document.getSelection(),(i=document.createElement("span")).textContent=e,i.ariaHidden="true",i.style.all="unset",i.style.position="fixed",i.style.top=0,i.style.clip="rect(0, 0, 0, 0)",i.style.whiteSpace="pre",i.style.webkitUserSelect="text",i.style.MozUserSelect="text",i.style.msUserSelect="text",i.style.userSelect="text",i.addEventListener("copy",function(t){if(t.stopPropagation(),s.format)if(t.preventDefault(),void 0===t.clipboardData){window.clipboardData.clearData();var r=m[s.format]||m.default;window.clipboardData.setData(r,e)}else t.clipboardData.clearData(),t.clipboardData.setData(s.format,e);s.onCopy&&(t.preventDefault(),s.onCopy(t.clipboardData))}),document.body.appendChild(i),a.selectNodeContents(i),l.addRange(a),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");n=!0}catch(d){try{window.clipboardData.setData(s.format||"text",e),s.onCopy&&s.onCopy(window.clipboardData),n=!0}catch(o){t=function(e){var s=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,s)}("message"in s?s.message:"Copy to clipboard: #{key}, Enter"),window.prompt(t,e)}}finally{l&&("function"==typeof l.removeRange?l.removeRange(a):l.removeAllRanges()),i&&document.body.removeChild(i),r()}return n});function g({handleClose:s,code:t}){const a=n.useRef(null),[l,i]=n.useState(!1),d=()=>{var e;const s=null==(e=a.current)?void 0:e.value;h(s||"")?(i(!0),r.success("Quiz code copied to clipboard!"),setTimeout(()=>i(!1),2e3)):r.error("Failed to copy code")};return e.jsx("div",{className:"px-4 sm:px-6 lg:px-8 py-6",children:e.jsx("div",{className:"flex flex-col items-center justify-center min-h-[300px] sm:min-h-[400px]",children:e.jsxs("div",{className:"text-center max-w-md w-full",children:[e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 sm:w-20 sm:h-20 bg-green-100 rounded-full mb-4",children:e.jsx("i",{className:"fa-solid fa-check text-2xl sm:text-3xl text-green-600"})})}),e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2",children:"Quiz Created Successfully!"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-8",children:"Share this code with your students to join the quiz"}),e.jsxs("div",{className:"mb-8",children:[e.jsx("label",{htmlFor:"quiz-code",className:"block text-sm font-medium text-gray-700 mb-2",children:"Quiz Code"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{id:"quiz-code",ref:a,defaultValue:t,readOnly:!0,className:"w-full px-4 py-3 text-center text-lg sm:text-xl font-mono font-bold bg-gray-50 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200","aria-label":"Quiz code"}),e.jsx("div",{className:"absolute inset-y-0 right-3 flex items-center",children:e.jsx("span",{className:"text-xs text-gray-400 bg-gray-50 px-2 py-1 rounded",children:"READ-ONLY"})})]}),e.jsxs("button",{onClick:d,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),d())},className:"flex-shrink-0 px-4 py-3 rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 "+(l?"bg-green-500 text-white focus:ring-green-500":"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500"),"aria-label":l?"Code copied!":"Copy quiz code to clipboard",title:l?"Code copied!":"Copy to clipboard",children:[e.jsx("i",{className:`fa-solid ${l?"fa-check":"fa-copy"} text-sm`}),e.jsx("span",{className:"ml-2 text-sm hidden sm:inline",children:l?"Copied!":"Copy"})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[e.jsx("button",{onClick:s,className:"flex-1 px-6 py-3 bg-gray-600 text-white font-medium rounded-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-all duration-200",children:"Close"}),e.jsx("button",{onClick:()=>{d(),s()},className:"flex-1 px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200",children:"Copy & Close"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"Students can enter this code on the quiz page to join"})]})})})}const f="https://upskilling-egypt.com:3005/api",p=({path:e,headers:s,setState:t})=>{a.get(`${f}/${e}`,s).then(e=>{t&&t(e.data)}).catch(e=>{r.error(e.response.data.message||"Invalid Data")})},b=(e,s)=>{a.get(`${f}/${e}`,{headers:{Authorization:l.get("userData")?`Bearer ${JSON.parse(String(l.get("userData"))).accessToken}`:null}}).then(e=>{s(e.data)}).catch(e=>{var t,a;r.error((null==(a=null==(t=e.response)?void 0:t.data)?void 0:a.message)||"Invalid Data"),s([])})};function y({setModalState:t,setCode:l,quiz:i,handleClose:c}){var x,u,m,h,g,p,b,y,j,N;let{groups:v}=d(e=>e.groups);const{headers:w}=d(e=>e.userData),[k,q]=n.useState(!1),C=[1,5,10,15,20,25,30,35,40,45,50,55,60],{register:z,handleSubmit:S,formState:{errors:D},setValue:_}=o();n.useEffect(()=>{if(i)for(const e in i)if(i.hasOwnProperty(e)){const s=i[e];"string"!=typeof s&&"number"!=typeof s||_(e,s)}},[]);const Q=e=>{q(!0),a.post(`${f}/quiz`,e,w).then(e=>{r.success(e.data.message),l(e.data.data.code),t("quiz-code")}).catch(e=>{r.error(String(e.response.data.message))}).finally(()=>{q(!1)})},A=e=>{a.put(`${f}/quiz/${null==i?void 0:i._id}`,e,w).then(e=>{r.success(e.data.message),l(e.data.data.code),t("quiz-code")}).catch(e=>{r.error(String(e.response.data.message))}).finally(()=>{q(!1)})};return k?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4",children:e.jsx(s,{})}),e.jsx("p",{className:"text-gray-600 font-medium",children:i?"Updating quiz...":"Creating quiz..."})]})}):v?e.jsx("div",{className:"p-6 max-h-[80vh] overflow-y-auto",children:e.jsxs("form",{onSubmit:S(i?e=>{q(!0),delete e._id,delete e.__v,delete e.updatedAt,delete e.time,delete e.status,delete e.questions,delete e.instructor,delete e.date,delete e.createdAt,delete e.code,delete e.questions_number,delete e.score_per_question,delete e.difficulty,delete e.type,A(e)}:e=>{e.schadule=`${e.date}T${e.time}`,delete e.time,delete e.date,delete e.schedule,Q(e)}),id:"quizModal",className:"space-y-6",children:[e.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx("i",{className:"fa-solid fa-file-circle-plus text-blue-600 mr-3"}),i?"Edit Quiz":"Create New Quiz"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:i?"Update the quiz details below":"Fill in the details below to create a new quiz"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"text-lg font-medium text-gray-900 flex items-center",children:[e.jsx("i",{className:"fa-solid fa-info-circle text-gray-500 mr-2"}),"Basic Information"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:["Quiz Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{...z("title",{required:"Quiz title is required"}),id:"title",type:"text",placeholder:"Enter quiz title",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 "+(D.title?"border-red-300":"border-gray-300")}),D.title&&e.jsxs("p",{className:"text-red-600 text-sm flex items-center",children:[e.jsx("i",{className:"fa-solid fa-exclamation-circle mr-1"}),String(null==(x=D.title)?void 0:x.message)]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:["Description ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{...z("description",{required:"Description is required"}),id:"description",rows:3,placeholder:"Enter quiz description",className:"w-full px-4 py-3 border rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 "+(D.description?"border-red-300":"border-gray-300")}),D.description&&e.jsxs("p",{className:"text-red-600 text-sm flex items-center",children:[e.jsx("i",{className:"fa-solid fa-exclamation-circle mr-1"}),String(null==(u=D.description)?void 0:u.message)]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"text-lg font-medium text-gray-900 flex items-center",children:[e.jsx("i",{className:"fa-solid fa-cog text-gray-500 mr-2"}),"Quiz Configuration"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{htmlFor:"duration",className:"block text-sm font-medium text-gray-700",children:["Duration (minutes) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{...z("duration",{required:"Duration is required"}),id:"duration",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 "+(D.duration?"border-red-300":"border-gray-300"),children:[e.jsx("option",{value:"",children:"Select duration"}),C.map(s=>e.jsxs("option",{value:s,children:[s," minutes"]},s))]}),D.duration&&e.jsxs("p",{className:"text-red-600 text-sm flex items-center",children:[e.jsx("i",{className:"fa-solid fa-exclamation-circle mr-1"}),String(null==(m=D.duration)?void 0:m.message)]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{htmlFor:"questions_number",className:"block text-sm font-medium text-gray-700",children:["Number of Questions ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{...z("questions_number",{required:"Number of questions is required",valueAsNumber:!0}),id:"questions_number",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 "+(D.questions_number?"border-red-300":"border-gray-300"),children:[e.jsx("option",{value:"",children:"Select number"}),C.map(s=>e.jsxs("option",{value:s,children:[s," questions"]},s))]}),D.questions_number&&e.jsxs("p",{className:"text-red-600 text-sm flex items-center",children:[e.jsx("i",{className:"fa-solid fa-exclamation-circle mr-1"}),String(null==(h=D.questions_number)?void 0:h.message)]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{htmlFor:"score_per_question",className:"block text-sm font-medium text-gray-700",children:["Score per Question ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{...z("score_per_question",{required:"Score per question is required"}),id:"score_per_question",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 "+(D.score_per_question?"border-red-300":"border-gray-300"),children:[e.jsx("option",{value:"",children:"Select score"}),[1,2,3,4,5,6,7,8,9,10].map(s=>e.jsxs("option",{value:s,children:[s," point",s>1?"s":""]},s))]}),D.score_per_question&&e.jsxs("p",{className:"text-red-600 text-sm flex items-center",children:[e.jsx("i",{className:"fa-solid fa-exclamation-circle mr-1"}),String(null==(g=D.score_per_question)?void 0:g.message)]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"text-lg font-medium text-gray-900 flex items-center",children:[e.jsx("i",{className:"fa-solid fa-calendar-alt text-gray-500 mr-2"}),"Schedule"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700",children:["Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{...z("date",{required:"Date is required"}),id:"date",type:"date",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 "+(D.date?"border-red-300":"border-gray-300")}),D.date&&e.jsxs("p",{className:"text-red-600 text-sm flex items-center",children:[e.jsx("i",{className:"fa-solid fa-exclamation-circle mr-1"}),String(null==(p=D.date)?void 0:p.message)]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{htmlFor:"time",className:"block text-sm font-medium text-gray-700",children:["Time ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{...z("time",{required:"Time is required"}),id:"time",type:"time",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 "+(D.time?"border-red-300":"border-gray-300")}),D.time&&e.jsxs("p",{className:"text-red-600 text-sm flex items-center",children:[e.jsx("i",{className:"fa-solid fa-exclamation-circle mr-1"}),String(null==(b=D.time)?void 0:b.message)]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"text-lg font-medium text-gray-900 flex items-center",children:[e.jsx("i",{className:"fa-solid fa-sliders-h text-gray-500 mr-2"}),"Quiz Settings"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{htmlFor:"difficulty",className:"block text-sm font-medium text-gray-700",children:["Difficulty Level ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{...z("difficulty",{required:"Difficulty is required"}),id:"difficulty",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 "+(D.difficulty?"border-red-300":"border-gray-300"),children:[e.jsx("option",{value:"",children:"Select difficulty"}),["easy","medium","hard"].map(s=>e.jsx("option",{value:s,children:s.charAt(0).toUpperCase()+s.slice(1)},s))]}),D.difficulty&&e.jsxs("p",{className:"text-red-600 text-sm flex items-center",children:[e.jsx("i",{className:"fa-solid fa-exclamation-circle mr-1"}),String(null==(y=D.difficulty)?void 0:y.message)]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700",children:["Category ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{...z("type",{required:"Category is required"}),id:"type",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 "+(D.type?"border-red-300":"border-gray-300"),children:[e.jsx("option",{value:"",children:"Select category"}),["FE","BE","Mobile application","Flutter","AI"].map(s=>e.jsx("option",{value:s,children:s},s))]}),D.type&&e.jsxs("p",{className:"text-red-600 text-sm flex items-center",children:[e.jsx("i",{className:"fa-solid fa-exclamation-circle mr-1"}),String(null==(j=D.type)?void 0:j.message)]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{htmlFor:"group",className:"block text-sm font-medium text-gray-700",children:["Group ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{...z("group",{required:"Group is required"}),id:"group",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 "+(D.group?"border-red-300":"border-gray-300"),children:[e.jsx("option",{value:"",children:"Select group"}),null==v?void 0:v.map(s=>e.jsx("option",{value:String(s._id),children:s.name},s._id))]}),D.group&&e.jsxs("p",{className:"text-red-600 text-sm flex items-center",children:[e.jsx("i",{className:"fa-solid fa-exclamation-circle mr-1"}),String(null==(N=D.group)?void 0:N.message)]})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:c,className:"px-6 py-3 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"}),e.jsxs("button",{type:"submit",className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 flex items-center",children:[e.jsx("i",{className:"fa-solid fa-save mr-2"}),i?"Update Quiz":"Create Quiz"]})]})]})}):e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4",children:e.jsx(s,{})}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Loading groups..."})]})})}const j=({show:s,title:t,body:r,onClose:a,onSave:l,omitHeader:i,modalType:d="default",saveButtonText:o,closeButtonText:c})=>{const x=n.useRef(null);n.useEffect(()=>{const e=e=>{x.current&&!x.current.contains(e.target)&&a()},t=e=>{"Escape"===e.key&&a()};return s&&(document.addEventListener("mousedown",e),document.addEventListener("keydown",t),document.body.style.overflow="hidden"),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",t),document.body.style.overflow="unset"}},[s,a]);return e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-black bg-opacity-50 backdrop-blur-sm transition-all duration-300 "+(s?"flex justify-center items-start sm:items-center p-2 sm:p-4":"hidden"),role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:e.jsxs("div",{ref:x,className:`bg-white dark:bg-gray-800 w-full max-w-md sm:max-w-lg lg:max-w-2xl mx-auto rounded-xl shadow-2xl transform transition-all duration-300 ease-out border ${(()=>{switch(d){case"delete":return"border-red-200 shadow-red-100";case"warning":return"border-yellow-200 shadow-yellow-100";case"success":return"border-green-200 shadow-green-100";default:return"border-gray-200 shadow-gray-100"}})()} ${s?"scale-100 opacity-100":"scale-95 opacity-0"}`,children:[e.jsxs("div",{className:"header flex justify-between items-center border-b border-gray-200 dark:border-gray-700 "+(i?"hidden":"px-6 py-5"),children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("i",{className:`${(()=>{switch(d){case"delete":return"fa-solid fa-exclamation-triangle text-red-600";case"warning":return"fa-solid fa-exclamation-triangle text-yellow-600";case"success":return"fa-solid fa-check-circle text-green-600";default:return"fa-solid fa-info-circle text-blue-600"}})()} mr-3 text-xl`}),e.jsx("div",{className:"headerName text-lg sm:text-xl font-semibold text-gray-900 dark:text-white",id:"modal-title",children:t})]}),e.jsxs("div",{className:"Icons-close-save flex items-center gap-2",children:[l&&"delete"!==d&&e.jsx("button",{className:"p-2.5 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800",onClick:l,"aria-label":o||"Save",title:o||"Save",children:e.jsx("i",{className:"fa-solid fa-check text-lg"})}),e.jsx("button",{className:"p-2.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800","aria-label":c||"Close",onClick:a,title:c||"Close",children:e.jsx("i",{className:"fa-solid fa-xmark text-lg"})})]})]}),e.jsx("div",{className:"overflow-y-auto max-h-[70vh] sm:max-h-[80vh] scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-gray-600 scrollbar-track-transparent",children:r})]})})},N=n.memo(({quiz:s,onEdit:r,onDelete:a,onView:l,onShare:i,showActions:d=!0,className:o=""})=>{const{formatDate:c,calculateTimeRemaining:x}={filterAndSortQuizzes:n.useCallback((e,s,r="date",a="desc")=>{let l=e;return s&&(l=e.filter(e=>e.title.toLowerCase().includes(s.toLowerCase())||e.description.toLowerCase().includes(s.toLowerCase()))),l.sort((e,s)=>{let l,i;switch(r){case"title":l=e.title.toLowerCase(),i=s.title.toLowerCase();break;case"date":const r=t(e),a=t(s);l=new Date(r.schedule),i=new Date(a.schedule);break;case"status":l=e.status,i=s.status;break;default:l=e.title,i=s.title}return"asc"===a?l>i?1:-1:l<i?1:-1})},[]),filterAndSortStudents:n.useCallback((e,s,t="name",r="asc")=>{let a=e;return s&&(a=e.filter(e=>`${e.first_name} ${e.last_name}`.toLowerCase().includes(s.toLowerCase())||e.email.toLowerCase().includes(s.toLowerCase()))),a.sort((e,s)=>{let a,l;switch(t){case"name":a=`${e.first_name} ${e.last_name}`.toLowerCase(),l=`${s.first_name} ${s.last_name}`.toLowerCase();break;case"email":a=e.email.toLowerCase(),l=s.email.toLowerCase();break;case"score":a=e.avg_score||0,l=s.avg_score||0;break;default:a=e.first_name,l=s.first_name}return"asc"===r?a>l?1:-1:a<l?1:-1})},[]),filterAndSortQuestions:n.useCallback((e,s,t="all",r="all")=>{let a=e;return s&&(a=e.filter(e=>e.title.toLowerCase().includes(s.toLowerCase())||e.description.toLowerCase().includes(s.toLowerCase()))),"all"!==t&&(a=a.filter(e=>e.difficulty===t)),"all"!==r&&(a=a.filter(e=>e.type===r)),a},[]),calculateQuizStats:n.useCallback(e=>{const s=e.length,t=e.filter(e=>"completed"===e.status).length;return{total:s,completed:t,published:e.filter(e=>"published"===e.status).length,draft:e.filter(e=>"draft"===e.status).length,averageQuestions:s>0?Math.round(e.reduce((e,s)=>e+s.questions_number,0)/s):0,difficultyDistribution:e.reduce((e,s)=>(e[s.difficulty]=(e[s.difficulty]||0)+1,e),{}),completionRate:s>0?Math.round(t/s*100):0}},[]),calculateStudentPerformance:n.useCallback(e=>{const s=e.length,t=e.filter(e=>void 0!==e.avg_score);if(0===t.length)return{totalStudents:s,averageScore:0,topPerformers:[],lowPerformers:[],scoreDistribution:{}};const r=t.reduce((e,s)=>e+(s.avg_score||0),0)/t.length,a=[...t].sort((e,s)=>(s.avg_score||0)-(e.avg_score||0)),l=a.slice(0,5),i=a.slice(-5).reverse(),n=t.reduce((e,s)=>{const t=s.avg_score||0,r=t>=90?"90-100":t>=80?"80-89":t>=70?"70-79":t>=60?"60-69":"0-59";return e[r]=(e[r]||0)+1,e},{});return{totalStudents:s,averageScore:Math.round(100*r)/100,topPerformers:l,lowPerformers:i,scoreDistribution:n}},[]),formatDate:n.useCallback(e=>{try{if(!e||""===e.trim())return"No date set";const s=new Date(e);return isNaN(s.getTime())?"Invalid date format":new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(s)}catch(s){return"Date unavailable"}},[]),calculateTimeRemaining:n.useCallback(e=>{try{if(!e||""===e.trim())return{expired:!0,display:"No end time set"};const s=(new Date).getTime(),t=new Date(e).getTime();if(isNaN(t))return{expired:!0,display:"Invalid end time"};const r=t-s;if(r<=0)return{expired:!0,display:"Expired"};const a=Math.floor(r/864e5),l=Math.floor(r%864e5/36e5),i=Math.floor(r%36e5/6e4);let n="";return a>0&&(n+=`${a}d `),l>0&&(n+=`${l}h `),i>0&&(n+=`${i}m`),{expired:!1,display:n.trim()||"< 1m"}}catch(s){return{expired:!0,display:"Time unavailable"}}},[])},u=n.useMemo(()=>t(s),[s]),m=n.useMemo(()=>c(u.schedule),[c,u.schedule]),h=n.useMemo(()=>x(u.schedule),[x,u.schedule]),g=n.useMemo(()=>{const e="px-2 py-1 rounded-full text-xs font-medium";switch(u.status){case"published":return`${e} bg-green-100 text-green-800`;case"completed":return`${e} bg-blue-100 text-blue-800`;default:return`${e} bg-gray-100 text-gray-800`}},[u.status]),f=n.useMemo(()=>{const e="px-2 py-1 rounded text-xs font-medium";switch(u.difficulty){case"easy":return`${e} bg-green-50 text-green-700 border border-green-200`;case"medium":return`${e} bg-yellow-50 text-yellow-700 border border-yellow-200`;case"hard":return`${e} bg-red-50 text-red-700 border border-red-200`;default:return`${e} bg-gray-50 text-gray-700 border border-gray-200`}},[u.difficulty]),p=n.useCallback(()=>{r&&r(u)},[r,u]),b=n.useCallback(()=>{a&&a(u._id)},[a,u._id]),y=n.useCallback(()=>{l&&l(u._id)},[l,u._id]),j=n.useCallback(()=>{i&&i(u.code)},[i,u.code]),N=n.useMemo(()=>"completed"===u.status?100:"draft"===u.status?25:75,[u.status]);return e.jsxs("div",{className:`bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200 p-6 border border-gray-200 ${o}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1 line-clamp-1",children:u.title}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:u.description})]}),e.jsx("div",{className:"flex items-center space-x-2 ml-4",children:e.jsx("span",{className:g,children:u.status})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("span",{className:"text-sm text-gray-600",children:[u.questions_number," questions"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("span",{className:"text-sm text-gray-600",children:[u.duration," minutes"]})]})]}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Difficulty:"}),e.jsx("span",{className:f,children:u.difficulty})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Score:"}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[u.score_per_question," pts/question"]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Progress"}),e.jsxs("span",{className:"text-xs text-gray-600",children:[N,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${N}%`}})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("svg",{className:"w-4 h-4 text-gray-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("span",{className:"text-sm text-gray-600 truncate",children:m})]}),!h.expired&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("svg",{className:"w-4 h-4 text-blue-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"text-xs text-blue-600 font-medium truncate",children:h.display})]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Code:"}),e.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded text-sm font-mono text-gray-800",children:u.code})]}),e.jsx("button",{onClick:j,className:"text-sm text-blue-600 hover:text-blue-800 transition-colors",children:"Copy"})]}),d&&e.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t border-gray-200",children:[l&&e.jsx("button",{onClick:y,className:"px-3 py-1 text-sm text-blue-600 hover:text-blue-800 transition-colors",children:"View"}),r&&e.jsx("button",{onClick:p,className:"px-3 py-1 text-sm text-green-600 hover:text-green-800 transition-colors",children:"Edit"}),a&&e.jsx("button",{onClick:b,className:"px-3 py-1 text-sm text-red-600 hover:text-red-800 transition-colors",children:"Delete"})]})]})});N.displayName="QuizCard";const v=N;function w({incomingQuizzes:s}){const t=c();return e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"fa-solid fa-calendar-days text-blue-600 text-sm"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Incoming Quizzes"})]}),e.jsxs("span",{className:"text-sm text-gray-500 bg-white px-3 py-1 rounded-full border",children:[(null==s?void 0:s.length)||0," quizzes"]})]})}),e.jsx("div",{className:"p-6",children:s&&s.length>0?e.jsxs("div",{className:"space-y-4",children:[("/dashboard/quizzes"===t.pathname||"/student"===t.pathname?s.slice(0,2):s).map(s=>e.jsx(v,{quiz:s,showActions:!1,className:"border border-gray-100 hover:border-blue-200 transition-colors duration-200"},s._id)),"/dashboard/quizzes"===t.pathname&&s.length>2&&e.jsx("div",{className:"text-center pt-4 border-t border-gray-100",children:e.jsxs("button",{className:"text-blue-600 hover:text-blue-700 font-medium text-sm transition-colors duration-200",children:["View all ",s.length," incoming quizzes",e.jsx("i",{className:"fa-solid fa-arrow-right ml-2"})]})})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("i",{className:"fa-solid fa-calendar-xmark text-gray-400 text-xl"})}),e.jsx("p",{className:"text-gray-500 text-lg font-medium",children:"No incoming quizzes"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Create a new quiz to get started"})]})})]})}function k({isOpen:t,onClose:l,getAllQuestions:i}){const[c,x]=n.useState(!1),{register:u,handleSubmit:m,setValue:h,formState:{errors:g},reset:f}=o(),{headers:p}=d(e=>e.userData),b=()=>{f(),l()};return e.jsx(j,{onClose:b,show:t,omitHeader:!0,body:c?e.jsx("div",{className:"flex items-center justify-center h-64 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(s,{}),e.jsx("p",{className:"text-gray-600 mt-4",children:"Adding question..."})]})}):e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"border-b border-gray-200 pb-3 mb-4",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Add New Question"})}),e.jsxs("form",{id:"add-question-form",onSubmit:m(e=>{x(!0),a.post("https://upskilling-egypt.com:3005/api/question",e,p).then(e=>{r.success((null==e?void 0:e.data.message)||"Question added successfully!"),f(),l(),i()}).catch(e=>{var s,t;r.error((null==(t=null==(s=null==e?void 0:e.response)?void 0:s.data)?void 0:t.message)||"Failed to add question")}).finally(()=>{x(!1)})}),className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Question Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{...u("title",{required:"Question title is required"}),type:"text",placeholder:"Enter the question title",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),g.title&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(g.title.message)})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{...u("description",{required:"Description is required"}),rows:2,placeholder:"Enter question description",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),g.description&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(g.description.message)})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Answer Options ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["A","B","C","D"].map(s=>{var t;return e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:["Option ",s]}),e.jsx("input",{...u(`options.${s}`,{required:`Option ${s} is required`}),type:"text",placeholder:`Enter option ${s}`,className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-transparent"}),g.options&&g.options[s]&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:String(null==(t=g.options[s])?void 0:t.message)})]},s)})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Question Settings ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("select",{...u("answer",{required:"Please select the correct answer"}),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-transparent bg-white",children:[e.jsx("option",{value:"",children:"Correct Answer"}),e.jsx("option",{value:"A",children:"A"}),e.jsx("option",{value:"B",children:"B"}),e.jsx("option",{value:"C",children:"C"}),e.jsx("option",{value:"D",children:"D"})]}),e.jsxs("select",{...u("difficulty",{required:"Please select difficulty level"}),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-transparent bg-white",children:[e.jsx("option",{value:"",children:"Difficulty"}),e.jsx("option",{value:"easy",children:"Easy"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"hard",children:"Hard"})]}),e.jsxs("select",{...u("type",{required:"Please select a category"}),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-transparent bg-white",children:[e.jsx("option",{value:"",children:"Category"}),e.jsx("option",{value:"FE",children:"Frontend"}),e.jsx("option",{value:"BE",children:"Backend"}),e.jsx("option",{value:"FS",children:"Full Stack"})]})]}),(g.answer||g.difficulty||g.type)&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:"All settings are required"})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-3 border-t border-gray-200 mt-4",children:[e.jsx("button",{type:"button",onClick:b,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:"Cancel"}),e.jsx("button",{type:"submit",form:"add-question-form",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",disabled:c,children:c?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fa-solid fa-spinner fa-spin mr-2"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fa-solid fa-check mr-2"}),"Save Question"]})})]})]})})}function q({isOpen:t,onClose:l,getAllQuestions:i,id:o,questionTitle:c}){const[x,u]=n.useState(!1),{userData:m}=d(e=>e.userData),h=`Bearer ${null==m?void 0:m.accessToken}`;n.useEffect(()=>{const e=e=>{"Escape"===e.key&&l()};return t&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[t,l]);return t?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-2 sm:p-4 bg-black/50 backdrop-blur-sm",onClick:l,role:"dialog","aria-modal":"true","aria-labelledby":"delete-question-title","aria-describedby":"delete-question-description",children:e.jsxs("div",{className:"relative w-full max-w-sm sm:max-w-md md:max-w-lg mx-auto bg-white rounded-xl shadow-2xl border border-gray-200 dark:bg-gray-800 dark:border-gray-700",onClick:e=>e.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center",children:e.jsx("i",{className:"fa-solid fa-exclamation-triangle text-red-600 dark:text-red-400 text-lg sm:text-xl"})}),e.jsxs("div",{children:[e.jsx("h3",{id:"delete-question-title",className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:"Delete Question"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:"This action cannot be undone"})]})]}),e.jsx("button",{onClick:l,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors","aria-label":"Close dialog",children:e.jsx("i",{className:"fa-solid fa-xmark text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"})})]}),e.jsx("div",{className:"p-4 sm:p-5",children:x?e.jsxs("div",{className:"flex items-center justify-center py-6",children:[e.jsx(s,{}),e.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Deleting question..."})]}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 sm:w-14 sm:h-14 bg-red-100 dark:bg-red-900/30 rounded-full mb-3",children:e.jsx("i",{className:"fa-solid fa-exclamation-triangle text-red-600 dark:text-red-400 text-lg sm:text-xl"})}),e.jsx("h4",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Delete Question"}),e.jsx("p",{id:"delete-question-description",className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Are you sure you want to permanently delete this question?"}),c&&e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3 mb-3",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Question to delete:"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white line-clamp-2",children:c})]}),e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:e.jsxs("p",{className:"text-xs text-red-700 dark:text-red-300",children:[e.jsx("i",{className:"fa-solid fa-exclamation-triangle mr-1"}),"This action cannot be undone."]})})]})})}),!x&&e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 p-4 sm:p-5 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("button",{onClick:l,className:"flex-1 px-3 py-2.5 sm:px-4 sm:py-3 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:[e.jsx("i",{className:"fa-solid fa-times mr-2"}),"Cancel"]}),e.jsxs("button",{onClick:async()=>{var e,s,t;u(!0);try{const s=await a.delete(`https://upskilling-egypt.com:3005/api/question/${o}`,{headers:{Authorization:h}});r.success((null==(e=null==s?void 0:s.data)?void 0:e.message)||"Question deleted successfully"),l(),i()}catch(n){r.error((null==(t=null==(s=null==n?void 0:n.response)?void 0:s.data)?void 0:t.message)||"Error deleting question")}finally{u(!1)}},className:"flex-1 px-3 py-2.5 sm:px-4 sm:py-3 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:x,children:[e.jsx("i",{className:"fa-solid fa-trash-alt mr-2"}),"Delete Question"]})]})]})}):null}function C({isOpen:t,onClose:l,getAllQuestions:i,question:c}){const[x,u]=n.useState(!1),{register:m,handleSubmit:h,setValue:g,formState:{errors:f}}=o(),{userData:p}=d(e=>e.userData);let b=`Bearer ${null==p?void 0:p.accessToken}`;n.useEffect(()=>{g("title",c.title),g("description",c.description),g("options.A",c.options.A),g("options.B",c.options.B),g("options.C",c.options.C),g("options.D",c.options.D),g("answer",c.answer),g("difficulty",c.difficulty),g("type",c.type)},[c,g]);return e.jsx(j,{onClose:l,show:t,omitHeader:!0,body:x?e.jsx("div",{className:"flex items-center justify-center h-64 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(s,{}),e.jsx("p",{className:"text-gray-600 mt-4",children:"Updating question..."})]})}):e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"border-b border-gray-200 pb-3 mb-4",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Update Question"})}),e.jsxs("form",{id:"update-question-form",onSubmit:h(e=>{u(!0),a.put(`https://upskilling-egypt.com:3005/api/question/${c._id}`,e,{headers:{Authorization:b}}).then(e=>{r.success((null==e?void 0:e.data.message)||"Question updated successfully")}).catch(e=>{var s,t;r.error((null==(t=null==(s=null==e?void 0:e.response)?void 0:s.data)?void 0:t.message)||"Error updating question")}).finally(()=>{u(!1),l(),i()})}),className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Question Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{...m("title",{required:"Question title is required"}),type:"text",placeholder:"Enter the question title",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),f.title&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(f.title.message)})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{...m("description",{required:"Description is required"}),rows:2,placeholder:"Enter question description",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),f.description&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(f.description.message)})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Answer Options ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["A","B","C","D"].map(s=>{var t;return e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:["Option ",s]}),e.jsx("input",{...m(`options.${s}`,{required:`Option ${s} is required`}),type:"text",placeholder:`Enter option ${s}`,className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-transparent"}),f.options&&f.options[s]&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:String(null==(t=f.options[s])?void 0:t.message)})]},s)})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Question Settings ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("select",{...m("answer",{required:"Please select the correct answer"}),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-transparent bg-white",children:[e.jsx("option",{value:"",children:"Correct Answer"}),e.jsx("option",{value:"A",children:"A"}),e.jsx("option",{value:"B",children:"B"}),e.jsx("option",{value:"C",children:"C"}),e.jsx("option",{value:"D",children:"D"})]}),e.jsxs("select",{...m("difficulty",{required:"Please select difficulty level"}),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-transparent bg-white",children:[e.jsx("option",{value:"",children:"Difficulty"}),e.jsx("option",{value:"easy",children:"Easy"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"hard",children:"Hard"})]}),e.jsxs("select",{...m("type",{required:"Please select a category"}),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-transparent bg-white",children:[e.jsx("option",{value:"",children:"Category"}),e.jsx("option",{value:"FE",children:"Frontend"}),e.jsx("option",{value:"BE",children:"Backend"}),e.jsx("option",{value:"FS",children:"Full Stack"})]})]}),(f.answer||f.difficulty||f.type)&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:"All settings are required"})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-3 border-t border-gray-200 mt-4",children:[e.jsx("button",{type:"button",onClick:l,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:"Cancel"}),e.jsx("button",{type:"submit",form:"update-question-form",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",disabled:x,children:x?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fa-solid fa-spinner fa-spin mr-2"}),"Updating..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fa-solid fa-check mr-2"}),"Update Question"]})})]})]})})}const z=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const[t,r]=n.useState([]),[l,i]=n.useState(!1),[o,c]=n.useState(""),[x,u]=n.useState(!1),[m,h]=n.useState(null),[g,f]=n.useState(null),[p,b]=n.useState(""),y=()=>{u(!1)},{userData:j}=d(e=>e.userData);let N=`Bearer ${null==j?void 0:j.accessToken}`;const v=()=>{i(!0),a.get("https://upskilling-egypt.com:3005/api/question",{headers:{Authorization:N}}).then(e=>{r(null==e?void 0:e.data)}).catch(e=>{}).finally(()=>{i(!1)})};n.useEffect(()=>{v()},[]);const w=e=>{switch(null==e?void 0:e.toLowerCase()){case"easy":return"bg-green-100 text-green-800 border-green-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"hard":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Question Bank"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage and organize your quiz questions"})]}),e.jsxs("button",{onClick:()=>{c("add"),u(!0)},className:"inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors duration-200 shadow-sm hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[e.jsx("i",{className:"fa-solid fa-plus mr-2"}),"Add Question"]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:l?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(s,{}),e.jsx("p",{className:"text-gray-600 mt-4",children:"Loading questions..."})]})}):e.jsx("div",{className:"overflow-x-auto",children:t&&0!==t.length?e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Question Title"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Difficulty"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Right Answer"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((s,t)=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900 max-w-xs truncate",title:null==s?void 0:s.title,children:null==s?void 0:s.title})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${w(null==s?void 0:s.difficulty)}`,children:null==s?void 0:s.difficulty})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:null==s?void 0:s.type}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",title:null==s?void 0:s.answer,children:null==s?void 0:s.answer})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>(e=>{c("update"),f(e),u(!0)})(s),className:"text-blue-600 hover:text-blue-900 transition-colors duration-150 p-1 rounded-md hover:bg-blue-50",title:"Edit question",children:e.jsx("i",{className:"fa-solid fa-pen-to-square text-lg"})}),e.jsx("button",{onClick:()=>{return e=null==s?void 0:s._id,t=null==s?void 0:s.title,c("delete"),h(e),b(t),void u(!0);var e,t},className:"text-red-600 hover:text-red-900 transition-colors duration-150 p-1 rounded-md hover:bg-red-50",title:"Delete question",children:e.jsx("i",{className:"fa-solid fa-trash-can text-lg"})})]})})]},t))})]}):e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("i",{className:"fa-solid fa-inbox text-4xl text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"No questions found"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Get started by adding your first question"})]})})})}),t&&t.length>0&&e.jsx("div",{className:"mt-6 bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("i",{className:"fa-solid fa-list mr-2 text-blue-500"}),e.jsxs("span",{children:["Total Questions: ",e.jsx("span",{className:"font-semibold text-gray-900",children:t.length})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("i",{className:"fa-solid fa-chart-bar mr-2 text-green-500"}),e.jsxs("span",{children:["Categories: ",e.jsx("span",{className:"font-semibold text-gray-900",children:new Set(t.map(e=>e.type)).size})]})]})]})})]}),"add"===o&&e.jsx(k,{getAllQuestions:v,isOpen:x,onClose:y}),"update"===o&&e.jsx(C,{getAllQuestions:v,isOpen:x,onClose:y,question:g}),"delete"===o&&m&&e.jsx(q,{getAllQuestions:v,isOpen:x,onClose:y,id:m,questionTitle:p})]})}},Symbol.toStringTag,{value:"Module"}));function S({completedQuizzes:s}){return e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-green-50 to-emerald-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"fa-solid fa-check-circle text-green-600 text-sm"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Completed Quizzes"})]}),e.jsxs(x,{to:"/dashboard/results",className:"inline-flex items-center px-4 py-2 bg-green-600 hover:bg-green-700 text-white text-sm font-medium rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",children:["View Results",e.jsx("i",{className:"fa-solid fa-arrow-right ml-2 text-xs"})]})]})}),e.jsx("div",{className:"p-6",children:s&&0!==s.length?e.jsxs("div",{className:"overflow-hidden",children:[e.jsx("div",{className:"hidden md:block",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Participants"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.slice(0,3).map((s,t)=>{var r;return e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.title})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:s.type})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"17"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:null==(r=s.closed_at)?void 0:r.split("T")[0]})]},t)})})]})})}),e.jsx("div",{className:"md:hidden space-y-4",children:s.slice(0,3).map((s,t)=>{var r;return e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 line-clamp-1",children:s.title}),e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:s.type})]}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[e.jsx("span",{children:"17 participants"}),e.jsx("span",{children:null==(r=s.closed_at)?void 0:r.split("T")[0]})]})]},t)})}),s.length>3&&e.jsx("div",{className:"text-center pt-6 border-t border-gray-100 mt-6",children:e.jsxs(x,{to:"/dashboard/results",className:"text-green-600 hover:text-green-700 font-medium text-sm transition-colors duration-200",children:["View all ",s.length," completed quizzes",e.jsx("i",{className:"fa-solid fa-arrow-right ml-2"})]})})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("i",{className:"fa-solid fa-clipboard-check text-gray-400 text-xl"})}),e.jsx("p",{className:"text-gray-500 text-lg font-medium",children:"No completed quizzes"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Completed quizzes will appear here"})]})})]})}const D=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const{incomingQuizzes:t,loading:r,error:a}=d(e=>e.incomingQuizzes),{completedQuizzes:l}=d(e=>e.CompletedQuizzes),[i,o]=n.useState("close"),[c,x]=n.useState(""),u=()=>{o("close")};return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Quizzes"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage and create quizzes for your students"})]}),e.jsxs("button",{onClick:()=>{o("add")},className:"mt-4 sm:mt-0 bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-lg transition-colors duration-200 flex items-center space-x-2",children:[e.jsx("i",{className:"fa-solid fa-plus text-sm"}),e.jsx("span",{children:"Create Quiz"})]})]}),a&&e.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("i",{className:"fa-solid fa-exclamation-triangle text-red-500 mr-3"}),e.jsx("p",{className:"text-red-700 font-medium",children:a})]})}),e.jsx("div",{className:"space-y-6",children:r?e.jsx("div",{className:"flex items-center justify-center h-64 bg-white dark:bg-gray-800 rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-600",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4",children:e.jsx(s,{})}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:"Loading quizzes..."})]})}):e.jsxs(e.Fragment,{children:[e.jsx(w,{incomingQuizzes:t||[]}),e.jsx(S,{completedQuizzes:l||[]})]})})]}),e.jsx(j,{show:"add"===i,title:"Set up a new quiz",onSave:()=>{},onClose:u,body:"add"==i?e.jsx(y,{setCode:x,setModalState:o,handleClose:u}):""}),e.jsx(j,{show:"quiz-code"===i,title:"",onSave:()=>{},omitHeader:!0,onClose:u,modalType:"success",body:e.jsx(g,{handleClose:u,code:c})})]})}},Symbol.toStringTag,{value:"Module"}));const _=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const{headers:t}=d(e=>e.userData),[r,a]=n.useState(),[l,i]=n.useState(!0);n.useEffect(()=>{(()=>{try{i(!0),p({path:"quiz/result",headers:t,setState:a})}catch(e){}finally{i(!1)}})()},[]);const o=e=>{switch(null==e?void 0:e.toLowerCase()){case"completed":return"bg-green-100 text-green-800";case"active":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 sm:text-3xl",children:"Quiz Results"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 sm:text-base",children:"View and analyze quiz performance results"})]}),r&&r.length>0&&e.jsx("div",{className:"mt-4 sm:mt-0",children:e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("i",{className:"fa-solid fa-chart-bar mr-2 text-blue-500"}),e.jsxs("span",{children:["Total Results: ",e.jsx("span",{className:"font-semibold text-gray-900",children:r.length})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("i",{className:"fa-solid fa-users mr-2 text-green-500"}),e.jsxs("span",{children:["Total Participants: ",e.jsx("span",{className:"font-semibold text-gray-900",children:r.reduce((e,s)=>{var t;return e+((null==(t=s.participants)?void 0:t.length)||0)},0)})]})]})]})})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Results Overview"})}),l&&e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(s,{}),e.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"Loading quiz results..."})]})}),!l&&e.jsx("div",{className:"overflow-x-auto",children:r&&0!==r.length?e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quiz Title"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Participants"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map((s,t)=>{var r,a,l,i,n,d,c,u;return e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-200",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx("i",{className:"fa-solid fa-question text-blue-600"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:(null==(r=s.quiz)?void 0:r.title)||"Untitled Quiz"}),e.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",(null==(l=null==(a=s.quiz)?void 0:a._id)?void 0:l.slice(-8))||"N/A"]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:(null==(i=s.quiz)?void 0:i.type)||"N/A"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${o(null==(n=s.quiz)?void 0:n.status)}`,children:(null==(d=s.quiz)?void 0:d.status)||"Unknown"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("i",{className:"fa-solid fa-users mr-2 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-900 font-medium",children:(null==(c=s.participants)?void 0:c.length)||0})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs(x,{to:`/dashboard/results/${encodeURIComponent((null==(u=s.quiz)?void 0:u.title)||"")}`,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 shadow-sm hover:shadow-md",children:[e.jsx("i",{className:"fa-solid fa-eye mr-2"}),"View Details"]})})]},t)})})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("i",{className:"fa-solid fa-chart-line text-gray-400 text-xl"})}),e.jsx("p",{className:"text-gray-500 text-lg font-medium",children:"No results available"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Quiz results will appear here once quizzes are completed"})]})})]}),!l&&r&&r.length>0&&e.jsx("div",{className:"md:hidden mt-6 space-y-4",children:r.map((s,t)=>{var r,a,l,i,n,d;return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center mr-3",children:e.jsx("i",{className:"fa-solid fa-question text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:(null==(r=s.quiz)?void 0:r.title)||"Untitled Quiz"}),e.jsx("p",{className:"text-xs text-gray-500",children:(null==(a=s.quiz)?void 0:a.type)||"N/A"})]})]}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${o(null==(l=s.quiz)?void 0:l.status)}`,children:(null==(i=s.quiz)?void 0:i.status)||"Unknown"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx("i",{className:"fa-solid fa-users mr-1"}),e.jsxs("span",{children:[(null==(n=s.participants)?void 0:n.length)||0," participants"]})]}),e.jsxs(x,{to:`/dashboard/results/${encodeURIComponent((null==(d=s.quiz)?void 0:d.title)||"")}`,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:[e.jsx("i",{className:"fa-solid fa-eye mr-1"}),"View"]})]})]},t)})})]})})}},Symbol.toStringTag,{value:"Module"}));export{S as C,w as I,y as Q,_ as R,j as S,g as a,f as b,z as c,D as d,b as f,p as g};
//# sourceMappingURL=quiz-components-3qd3WDqg.js.map
