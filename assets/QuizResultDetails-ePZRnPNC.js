import{j as e,L as s}from"./auth-components-iWqtXpfe.js";import{b as t,L as a}from"./router-vendor-gFps3Gup.js";import{g as r}from"./quiz-components-3qd3WDqg.js";import{a as l}from"./redux-vendor-cu8-w_sP.js";import{r as i}from"./react-vendor-s_S1cGa8.js";import{N as d}from"./student-components-kXak7LEt.js";import"./form-vendor-87VoHYCJ.js";import"./utils-vendor-sWoxFQZ6.js";import"./ui-vendor-X5-HOmHr.js";function c(){const{quizTitle:c}=t(),{headers:n}=l(e=>e.userData),[x,m]=i.useState(null),[o,h]=i.useState(!0),[u,j]=i.useState(null);i.useEffect(()=>{c&&(()=>{try{h(!0),j(null),r({path:"quiz/result",headers:n,setState:e=>{const s=decodeURIComponent(c||""),t=e.find(e=>e.quiz.title===s);t?m(t):j("Quiz result not found"),h(!1)}})}catch(e){j("Failed to load quiz result"),h(!1)}})()},[c,n]);const f=e=>new Date(e).toLocaleString(),g=(e,s)=>{const t=new Date(e),a=new Date(s).getTime()-t.getTime();return`${Math.floor(a/6e4)}m ${Math.floor(a%6e4/1e3)}s`};if(o)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(s,{}),e.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"Loading quiz details..."})]})});if(u)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("i",{className:"fa-solid fa-exclamation-triangle text-red-500 text-xl"})}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-500 mb-4",children:u}),e.jsxs(a,{to:"/dashboard/results",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx("i",{className:"fa-solid fa-arrow-left mr-2"}),"Back to Results"]})]})});if(!x)return e.jsx(d,{});const{quiz:p,participants:N}=x,y=p.questions_number*p.score_per_question,b=N.length>0?N.reduce((e,s)=>e+s.score,0)/N.length:0;return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(a,{to:"/dashboard/results",className:"inline-flex items-center text-sm text-blue-600 hover:text-blue-700 mb-4",children:[e.jsx("i",{className:"fa-solid fa-arrow-left mr-2"}),"Back to Results"]}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 sm:text-3xl",children:p.title}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 sm:text-base",children:p.description})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${(e=>{switch(null==e?void 0:e.toLowerCase()){case"completed":case"closed":return"bg-green-100 text-green-800";case"active":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}})(p.status)}`,children:p.status})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("i",{className:"fa-solid fa-users text-blue-600"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Participants"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:N.length})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx("i",{className:"fa-solid fa-chart-line text-green-600"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Average Score"}),e.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[b.toFixed(1),"/",y]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx("i",{className:"fa-solid fa-question text-purple-600"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Questions"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:p.questions_number})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center",children:e.jsx("i",{className:"fa-solid fa-clock text-orange-600"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Duration"}),e.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[p.duration,"m"]})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-8",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Quiz Information"})}),e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Basic Details"}),e.jsxs("dl",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"text-sm text-gray-600",children:"Quiz Code:"}),e.jsx("dd",{className:"text-sm font-medium text-gray-900",children:p.code})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"text-sm text-gray-600",children:"Type:"}),e.jsx("dd",{className:"text-sm font-medium text-gray-900",children:p.type})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"text-sm text-gray-600",children:"Difficulty:"}),e.jsx("dd",{className:"text-sm font-medium text-gray-900 capitalize",children:p.difficulty})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"text-sm text-gray-600",children:"Score per Question:"}),e.jsx("dd",{className:"text-sm font-medium text-gray-900",children:p.score_per_question})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Timing"}),e.jsxs("dl",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"text-sm text-gray-600",children:"Scheduled:"}),e.jsx("dd",{className:"text-sm font-medium text-gray-900",children:f(p.schadule)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"text-sm text-gray-600",children:"Created:"}),e.jsx("dd",{className:"text-sm font-medium text-gray-900",children:f(p.createdAt)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"text-sm text-gray-600",children:"Closed:"}),e.jsx("dd",{className:"text-sm font-medium text-gray-900",children:f(p.closed_at)})]})]})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Participants"})}),0===N.length?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("i",{className:"fa-solid fa-users text-gray-400 text-xl"})}),e.jsx("p",{className:"text-gray-500 text-lg font-medium",children:"No participants"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"No students have taken this quiz yet"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Started"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Finished"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:N.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx("i",{className:"fa-solid fa-user text-blue-600"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[s.participant.first_name," ",s.participant.last_name]}),e.jsx("div",{className:"text-sm text-gray-500",children:s.participant.email})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm text-gray-900",children:[e.jsx("span",{className:"font-medium",children:s.score}),e.jsxs("span",{className:"text-gray-500",children:["/",y]})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[(s.score/y*100).toFixed(1),"%"]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:f(s.started_at)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:f(s.finished_at)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:g(s.started_at,s.finished_at)})]},s._id))})]})})]})]})})}export{c as default};
//# sourceMappingURL=QuizResultDetails-ePZRnPNC.js.map
